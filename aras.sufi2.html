<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Ù„ÙˆÚ©ÛŒØ´Ù†Øª Ú©Ø¬Ø§Ø³ØªØŸ</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      margin-top: 50px;
      direction: rtl;
    }
    button {
      padding: 10px 20px;
      font-size: 18px;
      margin-top: 20px;
      cursor: pointer;
    }
    #coords {
      margin-top: 20px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h1>ğŸ‘€ Ù…ÙˆÙ‚Ø¹ÛŒØªØª Ú©Ø¬Ø§Ø³ØªØŸ</h1>
  <p>Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ø¨Ø²Ù† ØªØ§ Ù…Ø®ØªØµØ§ØªØª Ø±Ùˆ Ø¨Ø¨ÛŒÙ†ÛŒ Ùˆ Ø¨ÙØ±Ø³ØªÛŒ Ø¨Ø±Ø§ÛŒ Ø¢Ø±Ø§Ø³ ğŸ˜</p>
  <button onclick="getLocation()">Ú¯Ø±ÙØªÙ† Ù…Ø®ØªØµØ§Øª</button>
  <div id="coords"></div>
  <div id="sendBtn" style="display: none; margin-top: 20px;"></div>

  <script>
    let latitude, longitude;

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
      } else {
        document.getElementById("coords").innerText = "Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ù„ÙˆÚ©ÛŒØ´Ù† Ø±Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù‡.";
      }
    }

    function showPosition(position) {
      latitude = position.coords.latitude;
      longitude = position.coords.longitude;
      document.getElementById("coords").innerText =
        `ğŸ“ Ù…Ø®ØªØµØ§Øª Ø´Ù…Ø§:\nØ¹Ø±Ø¶: ${latitude}\nØ·ÙˆÙ„: ${longitude}`;
      
      // Ø³Ø§Ø®Øª Ù„ÛŒÙ†Ú© ØªÙ„Ú¯Ø±Ø§Ù…
      const message = `Ù…Ø®ØªØµØ§Øª Ù…Ù†:\nØ¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ: ${latitude}\nØ·ÙˆÙ„ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ: ${longitude}`;
      const encoded = encodeURIComponent(message);
      const telegramLink = `https://t.me/share/url?url=&text=${encoded}`;

      document.getElementById("sendBtn").innerHTML = `
        <a href="${telegramLink}" target="_blank">
          <button>ğŸ“¤ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ø¢Ø±Ø§Ø³ Ø¯Ø± ØªÙ„Ú¯Ø±Ø§Ù…</button>
        </a>`;
      document.getElementById("sendBtn").style.display = "block";
    }

    function showError(error) {
      document.getElementById("coords").innerText = "Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù…Ø®ØªØµØ§Øª.";
    }
  </script>
</body>
</html>